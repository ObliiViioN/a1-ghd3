<script src="https://d3js.org/d3.v4.min.js"></script>

<svg width="1100" height= "750" style =  "border:5px solid black"></svg>
<script>

    var bar1 = d3.select('svg').append("rect")
        .attr("fill", "#ff0000")
        .attr("x", 30)
        .attr("y", 300)
        .attr("height", 150)
        .attr("width", 20);

    var bar2 = d3.select('svg').append("rect")
        .attr("fill", "#ff00ff")
        .attr("x", 1050)
        .attr("y", 300)
        .attr("height", 150)
        .attr("width", 20);

    document.addEventListener('keydown', (event) =>{
        var keyName = event.key;

        if(keyName === 's'){
            p1Down();
        } else if(keyName === 'w'){
            p1Up();
        }else if(keyName === 'i'){
            p2Up();
        }else if(keyName === 'k'){
            p2Down();
        }
    })

    document.addEventListener('keyup', (event) =>{
        bar1.transition().stop();
    })
    document.addEventListener('keyup', (event) =>{
        bar2.transition().stop();
    })
    function p1Down() {
        bar1.transition()
            .ease(d3.easeLinear)
            .duration(500)
            .attr("y",600)
    }
    function p1Up() {
        bar1.transition()
            .ease(d3.easeLinear)
            .duration(500)
            .attr("y",0)
    }
    function p2Down() {
        bar2.transition()
            .ease(d3.easeLinear)
            .duration(500)
            .attr("y",600)
    }
    function p2Up() {
        bar2.transition()
            .ease(d3.easeLinear)
            .duration(500)
            .attr("y",0)
    }

    d3.select('svg')
    .append('circle')
    .attr('cx',550)
    .attr('cy',375)
    .attr('r', 100)
    .attr('stroke','#000000')
    .attr('fill', '#ffffff')
    .attr('stroke-width', 5);

    d3.select('svg')
        .append('line')
        .style("stroke", "#000000")
        .style("stroke-width", 5)
        .attr('x1',550)
        .attr('y1',0)
        .attr('x2',550)
        .attr('y2',750)
        .attr('r', 100);
</script>
