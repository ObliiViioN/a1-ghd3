<script src="https://d3js.org/d3.v4.min.js"></script>

<svg width="1100" height= "750" style =  "border:5px solid black"></svg>
<script>

    var sun = d3.select('svg').append("circle")
        .attr("fill", "#ffff00")
        .attr("cx", 150)
        .attr("cy", 300)
        .attr('r',50).attr('stroke','#000000').attr('stroke-width', 3);

    var background = d3.select('svg');

    document.addEventListener('keydown', (event) =>{
        var keyName = event.key;

        if(keyName === 's'){
            p1Down();
        } else if(keyName === 'w'){
            p1Up();
        }
    })

    document.addEventListener('keyup', (event) =>{
        sun.transition().stop();
    })


    function p1Down() {
        sun.transition()
            .ease(d3.easeLinear)
            .duration(500)
            .attr("cy",700);
        var circleBox = sun.node().getBBox();

        if(circleBox.y < 250){
            sun.attr('fill', '#ffff00')
            background.style('background-color','#0000ff')
        } else{
            sun.attr('fill', "#000000")
            background.style('background-color','#ff00ff')
        }
    }
    function p1Up() {
        sun.transition()
            .ease(d3.easeLinear)
            .duration(500)
            .attr("cy",50);
        var circleBox = sun.node().getBBox();

        if(circleBox.y < 250){
            sun.attr('fill', '#ffff00')
            background.style('background-color','#0000ff')

        } else{
            sun.attr('fill', "#000000")
            background.style('background-color','#ff00ff')
        }

    }

    var triangle = d3.symbol().type(d3.symbolTriangle).size(76000);
    d3.select("svg")
        .append("path")
        .attr("d", triangle)
        .attr("fill", "green")
        .attr("transform", "translate(65, 450)").attr('stroke','#000000').attr('stroke-width', 3);

    var triangle2 = d3.symbol().type(d3.symbolTriangle).size(115000);
    d3.select("svg")
        .append("path")
        .attr("d", triangle2)
        .attr("fill", "green")
        .attr("transform", "translate(275, 550)").attr('stroke','#000000').attr('stroke-width', 3);
</script>
